<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>Image Privacy Scrubber (EXIF Remover)</title>
    <style>
        body { background: #1e1e1e; color: #f0f0f0; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; padding: 40px; }
        .container { background: #2c2c2c; padding: 30px; border-radius: 12px; max-width: 600px; width: 100%; text-align: center; border: 1px solid #444; }
        h1 { color: #ff3b30; margin-top: 0; } /* Apple System Red for Privacy alert feel */
        .info { background: #333; padding: 15px; border-radius: 8px; margin: 20px 0; text-align: left; font-size: 0.9rem; color: #ccc; }
        input[type="file"] { margin: 20px 0; }
        button { background: #34c759; color: white; border: none; padding: 12px 24px; border-radius: 8px; font-size: 1rem; font-weight: bold; cursor: pointer; width: 100%; }
        button:hover { background: #28a745; }
        button:disabled { background: #555; }
        #status { margin-top: 15px; font-weight: bold; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ”’ EXIF ë°ì´í„° ì œê±°ê¸°</h1>
        <div class="info">
            <strong>ì›ë¦¬:</strong> ì‚¬ì§„ì„ ìº”ë²„ìŠ¤ì— ë‹¤ì‹œ ê·¸ë¦¬ëŠ” ê³¼ì •ì—ì„œ GPS, ì¹´ë©”ë¼ ê¸°ì¢…, ì´¬ì˜ ì¼ì‹œ ë“±ì˜ ë©”íƒ€ë°ì´í„°ê°€ <strong>ë¬¼ë¦¬ì ìœ¼ë¡œ ì œê±°</strong>ë©ë‹ˆë‹¤.<br><br>
            * ì„œë²„ ì „ì†¡ ì—†ì´ ë¸Œë¼ìš°ì €ì—ì„œ ì¦‰ì‹œ ì²˜ë¦¬ë©ë‹ˆë‹¤.
        </div>
        
        <input type="file" id="fileInput" accept="image/*">
        <br>
        <button id="cleanBtn" onclick="cleanImage()" disabled>ë©”íƒ€ë°ì´í„° ì‚­ì œ ë° ì €ì¥</button>
        <p id="status"></p>
    </div>

    <script>
        const fileInput = document.getElementById('fileInput');
        const cleanBtn = document.getElementById('cleanBtn');
        const status = document.getElementById('status');
        let sourceImage = null;
        let fileName = "";

        fileInput.addEventListener('change', (e) => {
            const file = e.target.files[0];
            if (!file) return;
            
            fileName = file.name.split('.')[0] + "_clean.png";
            status.innerText = "ì´ë¯¸ì§€ ë¶„ì„ ì¤‘...";
            
            const reader = new FileReader();
            reader.onload = (event) => {
                sourceImage = new Image();
                sourceImage.onload = () => {
                    cleanBtn.disabled = false;
                    status.innerText = "ì¤€ë¹„ ì™„ë£Œ. ë²„íŠ¼ì„ ëˆŒëŸ¬ ì €ì¥í•˜ì„¸ìš”.";
                };
                sourceImage.src = event.target.result;
            };
            reader.readAsDataURL(file);
        });

        function cleanImage() {
            if (!sourceImage) return;

            const canvas = document.createElement('canvas');
            canvas.width = sourceImage.width;
            canvas.height = sourceImage.height;
            const ctx = canvas.getContext('2d');

            // ì´ë¯¸ì§€ ë‹¤ì‹œ ê·¸ë¦¬ê¸° (ì´ ê³¼ì •ì—ì„œ ë©”íƒ€ë°ì´í„° ì†Œë©¸)
            ctx.drawImage(sourceImage, 0, 0);

            // ë‹¤ìš´ë¡œë“œ
            canvas.toBlob((blob) => {
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = fileName;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                status.innerText = "âœ… ì•ˆì „í•˜ê²Œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!";
            }, 'image/png'); // PNGë¡œ ì €ì¥ (ì†ì‹¤ ì—†ìŒ)
        }
    </script>
</body>
</html>